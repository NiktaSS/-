
## üöÄ –ü—Ä–∏–º–µ—Ä CI —Å –ø–æ–º–æ—â—å—é GitHub Actions –¥–ª—è Python-–ø—Ä–æ–µ–∫—Ç–∞

### ‚úÖ –ß—Ç–æ –¥–µ–ª–∞–µ—Ç —ç—Ç–æ—Ç CI:

- —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏;
    
- –∑–∞–ø—É—Å–∫–∞–µ—Ç –ª–∏–Ω—Ç–µ—Ä (`flake8`);
    
- –∑–∞–ø—É—Å–∫–∞–µ—Ç —Ç–µ—Å—Ç—ã (`pytest`);
    
- –ø—Ä–æ–≤–µ—Ä—è–µ—Ç, —á—Ç–æ –ø—Ä–æ–µ–∫—Ç —Å–æ–±–∏—Ä–∞–µ—Ç—Å—è.
    

---

## üìÅ –®–∞–≥ 1: —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```bash
your-project/
‚îú‚îÄ‚îÄ app/
‚îÇ   ‚îî‚îÄ‚îÄ main.py
‚îú‚îÄ‚îÄ tests/
‚îÇ   ‚îî‚îÄ‚îÄ test_main.py
‚îú‚îÄ‚îÄ requirements.txt
‚îî‚îÄ‚îÄ .github/
    ‚îî‚îÄ‚îÄ workflows/
        ‚îî‚îÄ‚îÄ ci.yml   ‚Üê –Ω–∞—à CI-—Å–∫—Ä–∏–ø—Ç
```

---

## üìù –®–∞–≥ 2: —Ñ–∞–π–ª `.github/workflows/ci.yml`

```yaml
name: CI + Docker Build

on:
  push:
    branches: [ main ]
  pull_request:
    branches: [ main ]

jobs:
  build-test-docker:
    runs-on: ubuntu-latest

    steps:
      - name: üì• Checkout —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
        uses: actions/checkout@v3

      - name: üêç –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Python
        uses: actions/setup-python@v4
        with:
          python-version: "3.11"

      - name: üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
        run: |
          pip install -r requirements.txt

      - name: üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∏–ª—è (flake8)
        run: |
          pip install flake8
          flake8 app tests

      - name: üß™ –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤ (pytest)
        run: |
          pip install pytest
          pytest

      - name: üê≥ –õ–æ–≥–∏–Ω –≤ DockerHub
        uses: docker/login-action@v3
        with:
          username: ${{ secrets.DOCKERHUB_USERNAME }}
          password: ${{ secrets.DOCKERHUB_TOKEN }}

      - name: üì¶ –°–±–æ—Ä–∫–∞ –∏ –ø—É—à Docker-–æ–±—Ä–∞–∑–∞
        uses: docker/build-push-action@v5
        with:
          context: .
          push: true
          tags: ${{ secrets.DOCKERHUB_USERNAME }}/myapp:latest

      - name: üì° –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –ø–æ SSH –∏ –¥–µ–ø–ª–æ–π
        uses: appleboy/ssh-action@v1.0.0
        with:
          host: ${{ secrets.SSH_HOST }}
          username: ${{ secrets.SSH_USER }}
          key: ${{ secrets.SSH_KEY }}
          script: |
            docker pull ${{ secrets.DOCKERHUB_USERNAME }}/myapp:latest
            docker stop myapp || true
            docker rm myapp || true
            docker run -d --name myapp -p 80:8000 ${{ secrets.DOCKERHUB_USERNAME }}/myapp:latest


```

---

## üí° –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:

- **`on`** ‚Äî –∫–æ–≥–¥–∞ –∑–∞–ø—É—Å–∫–∞—Ç—å (–ø—Ä–∏ push –∏–ª–∏ PR –≤ `main`);
    
- **`jobs`** ‚Äî –∫–∞–∫–∏–µ –¥–µ–π—Å—Ç–≤–∏—è –≤—ã–ø–æ–ª–Ω–∏—Ç—å;
    
- **`steps`** ‚Äî –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —à–∞–≥–∏: —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏, –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∏–ª—å, –ø—Ä–æ–≥–Ω–∞—Ç—å —Ç–µ—Å—Ç—ã.
    

---

## üìå –ß—Ç–æ –Ω—É–∂–Ω–æ –∑–∞—Ä–∞–Ω–µ–µ:

1. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Å—è –Ω–∞ https://hub.docker.com/
    
2. –í –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö GitHub-—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è ‚Üí **Settings ‚Üí Secrets and variables ‚Üí Actions ‚Üí New repository secret**:
    
    - `DOCKERHUB_USERNAME` ‚Äì —Ç–≤–æ–π –ª–æ–≥–∏–Ω Docker Hub
        
    - `DOCKERHUB_TOKEN` ‚Äì Docker Hub access token
        

---

## üß± –ü—Ä–∏–º–µ—Ä Dockerfile:

```dockerfile
FROM python:3.11-slim

WORKDIR /app

COPY requirements.txt .
RUN pip install -r requirements.txt

COPY . .

CMD ["python", "app/main.py"]
```

---

## üìù –ß—Ç–æ –º–æ–∂–Ω–æ —Å–∫–∞–∑–∞—Ç—å –Ω–∞ —ç–∫–∑–∞–º–µ–Ω–µ:

> –í GitHub Actions –º–æ–∂–Ω–æ –Ω–µ —Ç–æ–ª—å–∫–æ –∑–∞–ø—É—Å–∫–∞—Ç—å —Ç–µ—Å—Ç—ã, –Ω–æ –∏ —Å–æ–±–∏—Ä–∞—Ç—å Docker-–æ–±—Ä–∞–∑—ã. –≠—Ç–æ –¥–µ–ª–∞–µ—Ç—Å—è —Å –ø–æ–º–æ—â—å—é `docker/build-push-action`. –û–±—Ä–∞–∑ –º–æ–∂–Ω–æ –∑–∞–ø—É—à–∏—Ç—å –≤ DockerHub, —É–∫–∞–∑–∞–≤ –ª–æ–≥–∏–Ω –∏ —Ç–æ–∫–µ–Ω —á–µ—Ä–µ–∑ `secrets`. –≠—Ç–æ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä—É–µ—Ç –≤–µ—Å—å —Ü–∏–∫–ª –æ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ –¥–æ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.
## ‚úÖ –ß—Ç–æ –º–æ–∂–Ω–æ —Å–∫–∞–∑–∞—Ç—å –Ω–∞ —ç–∫–∑–∞–º–µ–Ω–µ:

> GitHub Actions ‚Äî —ç—Ç–æ CI-—Å–µ—Ä–≤–∏—Å, –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –≤ GitHub. –î–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Å–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª –≤ `.github/workflows`, –æ–ø–∏—Å–∞—Ç—å —à–∞–≥–∏: —É—Å—Ç–∞–Ω–æ–≤–∫–∞ Python, –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π, –ª–∏–Ω—Ç–µ—Ä, –∑–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤. –ù–∞–ø—Ä–∏–º–µ—Ä, –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `pytest` –∏ `flake8` –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏ –∫–æ–¥–∞ –ø—Ä–∏ –∫–∞–∂–¥–æ–º push'–µ.
